(function(e){function t(t){for(var r,o,u=t[0],s=t[1],l=t[2],m=0,d=[];m<u.length;m++)o=u[m],i[o]&&d.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);c&&c(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var s=n[u];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={1:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=s;a.push([12,0]),n()})({"0Bps":function(e,t,n){"use strict";var r=n("HHwb"),i=n.n(r);i.a},12:function(e,t,n){e.exports=n("Vtdi")},"7teA":function(e,t,n){"use strict";var r=n("ca+M"),i=n.n(r);i.a},"8LK3":function(e,t,n){"use strict";var r=n("phuS"),i=n.n(r);i.a},"9VGj":function(e,t,n){"use strict";var r=n("achO"),i=n.n(r);i.a},EDI0:function(e,t,n){},FfZj:function(e,t,n){},HEg2:function(e,t,n){},HHwb:function(e,t,n){},JhdN:function(e,t,n){},T9SK:function(e,t,n){"use strict";var r=n("vr+h"),i=n.n(r);i.a},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm");var r=n("Kw5r"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("Image Gallery")]),n("nav",[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v("\n     \n    "),n("router-link",{attrs:{to:"/albums"}},[e._v("Albums")]),e._v("\n     \n    "),n("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v("\n     \n    "),n("router-link",{attrs:{to:"/auth"}},[e._v("Sign In")])],1),n("div",{attrs:{id:"container-albums"}},[n("router-view")],1),e._v("\n  "+e._s(e.albumstats)+"\n")])},a=[],o="/api",u="".concat(o,"/albums"),s="".concat(o,"/images"),l="".concat(o,"/auth");function c(e){return e.ok?e.json():e.json().then(function(e){throw e.message})}function m(){return fetch(u,{headers:{"Content-Type":"application/json"}}).then(c)}function d(){return fetch("".concat(u,"/stats"),{headers:{"Content-Type":"application/json"}}).then(c)}function p(e){return fetch("".concat(s,"/").concat(e),{headers:{"Content-Type":"application/json"}}).then(c)}function h(e){return fetch("".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(c)}function f(e){return fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(c)}function g(e){return fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(c)}function v(e){return fetch("".concat(s,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(c)}function b(e){return fetch("".concat(u,"/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(c)}function _(e){return console.log("signing in..."),fetch("".concat(l,"/signin"),{method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(c)}function w(e){return fetch("".concat(l,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(c)}var I={data:function(){return{albumstats:null}},created:function(){var e=this;d().then(function(t){return e.albumstats=t})}},y=I,x=(n("ZL7j"),n("KHd+")),A=Object(x["a"])(y,i,a,!1,null,null,null),j=A.exports,E=n("jE9Z"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("\n  HELLO WORLD\n")])},$=[],k={},N=k,D=(n("Z9Ih"),Object(x["a"])(N,O,$,!1,null,"7eda0fe5",null)),T=D.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},S=[],P={},Z=P,z=(n("0Bps"),Object(x["a"])(Z,C,S,!1,null,"42d6919b",null)),U=z.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",[e.newUser?n("h1",[e._v(e._s(e.label))]):e._e(),n("a",{on:{click:function(t){t.preventDefault(),e.newUser=!e.newUser}}},[e._v(e._s(e.newUser?"Already a member?":"New user?"))]),e._v("\n    Username: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.username,expression:"creds.username"}],domProps:{value:e.creds.username},on:{input:function(t){t.target.composing||e.$set(e.creds,"username",t.target.value)}}}),e._v("\n    Password: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),e._v("  // Add show/hide\n    "),n("input",{attrs:{type:"button",value:"Submit"},on:{click:function(t){t.preventDefault(),e.newUser?e.handleSignUp():e.handleSignIn()}}}),e._v(" "+e._s(e.newUser)+"\n  ")])])},q=[],H={data:function(){return{newUser:!0,creds:{},label:this.newUser?"Sign Up":"Sign In"}},methods:{handleSignUp:function(){var e=this;console.log("here?"),w(this.creds).then(function(t){console.log(t),e.creds={}})},handleSignIn:function(){console.log("in the sign in"),_()}}},J=H,F=(n("T9SK"),Object(x["a"])(J,L,q,!1,null,null,null)),K=F.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[e._l(e.albums,function(t){return n("li",{key:t.id,attrs:{albumId:t.id}},[n("router-link",{attrs:{to:"/albums/"+t.id}},[n("strong",[e._v(e._s(t.title))]),e._v(" ("+e._s(t.imageCount)+")\n    ")]),e._v("\n    "+e._s(t.imageAverage)+"\n    ")],1)}),n("li",[e.editing?n("a",{on:{click:function(t){t.preventDefault(),e.editing=!1}}},[e._v("\n        ⚒\n      ")]):n("a",{on:{click:function(t){t.preventDefault(),e.editing=!0}}},[e._v("\n        ➕\n      ")])])],2),e.editing?n("new-album",{attrs:{album:e.albums,"handle-add":e.handleAdd}}):e._e()],1)},G=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-add"}},[n("h4",[e._v("Add a new album")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.submitAdd(t)}}},[n("label",[e._v("\n      Title:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAlbum.title,expression:"newAlbum.title"}],attrs:{type:"text",name:"title",required:""},domProps:{value:e.newAlbum.title},on:{input:function(t){t.target.composing||e.$set(e.newAlbum,"title",t.target.value)}}})]),n("label",[e._v("\n      Description:\n      "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newAlbum.description,expression:"newAlbum.description"}],attrs:{type:"text",name:"description",required:""},domProps:{value:e.newAlbum.description},on:{input:function(t){t.target.composing||e.$set(e.newAlbum,"description",t.target.value)}}})]),n("input",{attrs:{type:"submit"}})]),n("div",{attrs:{id:"message"}}),e._v("\n  "+e._s(e.albums)+"\n")])},Y=[],B={data:function(){return{newAlbum:{}}},props:{albums:Array,handleAdd:{type:Function,required:!0}},methods:{submitAdd:function(){this.handleAdd(this.newAlbum)}}},R=B,W=(n("yusF"),Object(x["a"])(R,M,Y,!1,null,"470f588b",null)),Q=W.exports,X={components:{NewAlbum:Q},data:function(){return{albums:null,editing:!1,error:null}},created:function(){var e=this;m().then(function(t){e.albums=t})},methods:{handleAdd:function(e){var t=this;return f(e).then(function(n){n.imageCount=0,t.albums.push(n),e={},document.getElementById("message").textContent="Album sucessfully added!",t.editing=!1}).catch(function(e){t.error=e})}}},ee=X,te=(n("8LK3"),Object(x["a"])(ee,V,G,!1,null,"77262988",null)),ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-thumb"}},[n("ul",e._l(e.images,function(t){return n("li",{key:t.id},[n("a",{on:{click:function(n){n.preventDefault(),e.handleZoom(t.id)}}},[n("div",[n("p",[e._v(e._s(t.title))]),n("img",{attrs:{src:t.url,alt:t.title}})])])])}))])},ie=[],ae={props:{images:Array,handleZoom:{type:Function,required:!0}}},oe=ae,ue=(n("9VGj"),Object(x["a"])(oe,re,ie,!1,null,"35880138",null)),se=ue.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-main"}},[e.editing?n("div",{attrs:{id:"container-editing"}},[e._v("\n    Title: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tempImage.title,expression:"tempImage.title"}],domProps:{value:e.tempImage.title},on:{input:function(t){t.target.composing||e.$set(e.tempImage,"title",t.target.value)}}}),e._v("\n    URL: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.tempImage.url,expression:"tempImage.url"}],domProps:{value:e.tempImage.url},on:{input:function(t){t.target.composing||e.$set(e.tempImage,"url",t.target.value)}}}),e._v("\n    Description: "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.tempImage.description,expression:"tempImage.description"}],domProps:{value:e.tempImage.description},on:{input:function(t){t.target.composing||e.$set(e.tempImage,"description",t.target.value)}}})]):n("div",{attrs:{id:"container-view"}},[n("div",{attrs:{id:"container-sub"}},[n("a",{on:{click:function(t){return t.preventDefault(),e.handlePrevious(t)}}},[e._v("Previous")]),n("a",{on:{click:function(t){return t.preventDefault(),e.handleNext(t)}}},[e._v("Next")])]),n("p",[e._v(e._s(e.currentImage.title))])]),e.isNext?n("transition",{attrs:{mode:"out-in",name:"slide-fade-next"}},[n("img",{key:e.currentImage.id,attrs:{src:e.currentImage.url}})]):n("transition",{attrs:{mode:"out-in",name:"slide-fade-prev"}},[n("img",{key:e.currentImage.id,attrs:{src:e.currentImage.url}})]),e.editing?e._e():n("div",[e._v("\n    "+e._s(e.currentImage.description)+"\n  ")]),n("div",{attrs:{id:"container-sub"}},[e.editing?n("a",{on:{click:function(t){return t.preventDefault(),e.toggleEdit(t)}}},[e._v("Cancel")]):n("a",{on:{click:function(t){return t.preventDefault(),e.toggleEdit(t)}}},[e._v("Edit")]),e.editing?n("a",{on:{click:function(t){return t.preventDefault(),e.handleEdit(t)}}},[e._v("Save")]):n("a",{on:{click:function(t){return t.preventDefault(),e.handleDelete(t)}}},[e._v("Delete")])])],1)},ce=[],me=(n("INYr"),{props:["images","selectedImage"],data:function(){return{currentCount:0,isNext:!0,currentImage:null,tempImage:{},editing:!1}},methods:{handlePrevious:function(){this.currentCount>0&&(this.currentCount--,this.currentImage=this.images[this.currentCount],this.isNext=!1)},handleNext:function(){this.currentCount<this.images.length-1&&(this.currentCount++,this.currentImage=this.images[this.currentCount],this.isNext=!0)},handleDelete:function(){var e=this;confirm("Are you sure you want to delete this picture?")&&v(this.currentImage.id).then(function(t){t.removed&&(e.images.splice(e.images.findIndex(function(t){return t.id===e.currentImage.id}),1),e.currentImage=e.images[e.currentCount],e.currentImge||e.$router.push("/albums"))})},toggleEdit:function(){this.tempImage=this.currentImage,this.editing=!this.editing},handleEdit:function(){var e=this;h(this.tempImage).then(function(t){t.updated&&(e.currentImage=e.tempImage,e.images[e.currentCount]=e.currentImage,e.editing=!1)})}},created:function(){this.selectedImage?this.currentImage=this.images[this.selectedImage]:this.currentImage=this.images[0],this.selectedImage&&(this.currentCount=this.selectedImage)}}),de=me,pe=(n("eoAL"),Object(x["a"])(de,le,ce,!1,null,"18e85a2c",null)),he=pe.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.images,function(t){return n("li",{key:t.id},[n("a",{on:{click:function(n){n.preventDefault(),e.handleZoom(t.id)}}},[e._v(e._s(t.title))])])}))])},ge=[],ve={props:{images:Array,handleZoom:{type:Function,required:!0}}},be=ve,_e=(n("jrsz"),Object(x["a"])(be,fe,ge,!1,null,"2c51006a",null)),we=_e.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-add"}},[n("h4",[e._v("Add a new image")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.handleAdd(t)}}},[n("label",[e._v("\n      URL:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newImage.url,expression:"newImage.url"}],attrs:{type:"text",name:"url",required:""},domProps:{value:e.newImage.url},on:{input:function(t){t.target.composing||e.$set(e.newImage,"url",t.target.value)}}})]),n("label",[e._v("\n      Title:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.newImage.title,expression:"newImage.title"}],attrs:{type:"text",name:"title",required:""},domProps:{value:e.newImage.title},on:{input:function(t){t.target.composing||e.$set(e.newImage,"title",t.target.value)}}})]),n("label",[e._v("\n      Description:\n      "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newImage.description,expression:"newImage.description"}],attrs:{type:"text",name:"description",required:""},domProps:{value:e.newImage.description},on:{input:function(t){t.target.composing||e.$set(e.newImage,"description",t.target.value)}}})]),n("input",{attrs:{type:"submit"}})]),n("img",{attrs:{src:e.newImage.url}}),n("div",{attrs:{id:"message"}})])},ye=[],xe={data:function(){return{newImage:{}}},props:["images"],methods:{handleAdd:function(){var e=this;return this.newImage.albumid=this.$route.params.id,g(this.newImage).then(function(t){e.images.push(t),e.newImage={},document.getElementById("message").textContent="Image sucessfully added!"}).catch(function(t){e.error=t})}}},Ae=xe,je=(n("Y8dt"),Object(x["a"])(Ae,Ie,ye,!1,null,"1745df1f",null)),Ee=je.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade"}},[e.zoomed?n("zoom",{attrs:{handleZoom:e.handleZoom,selectedImage:e.selectedImage,zimages:e.images,zoomed:e.zoomed}}):e._e()],1),n("nav",[n("router-link",{attrs:{to:"/albums/"+this.$route.params.id+"/"}},[e._v("\n      Thumbnail View\n    ")]),n("router-link",{attrs:{to:"/albums/"+this.$route.params.id+"/list"}},[e._v("\n      List View\n    ")]),0!==e.images.length?n("router-link",{attrs:{to:"/albums/"+this.$route.params.id+"/gallery"}},[e._v("\n      Gallery View\n    ")]):e._e(),n("router-link",{attrs:{to:"/albums/"+this.$route.params.id+"/newimage"}},[e._v("\n      Add New Image\n    ")]),n("a",{on:{click:e.handleDeleteAlbum}},[e._v("\n      Delete This Album\n    ")])],1),n("transition",{attrs:{mode:"out-in",name:"fade"}},[e.images?n("router-view",{attrs:{images:e.images,handleZoom:e.handleZoom}}):e._e()],1)],1)},$e=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"zoom-main"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleZoom(t)}}},[n("div",{attrs:{id:"container-zoom"}},[n("gallery",{attrs:{images:e.zimages,selectedImage:e.selectedImage}})],1)])])},Ne=[],De=(n("xfY5"),{components:{Gallery:he},created:function(){},props:{handleZoom:{type:Function,required:!0},zimages:Array,selectedImage:Number,zoomed:Boolean}}),Te=De,Ce=(n("yKDN"),Object(x["a"])(Te,ke,Ne,!1,null,"bb3ae80a",null)),Se=Ce.exports,Pe={data:function(){return{id:this.$route.params.id,images:0,zoomed:!1,selectedImage:null}},components:{Zoom:Se},methods:{handleZoom:function(e){this.zoomed=!this.zoomed,this.selectedImage=this.images.findIndex(function(t){return t.id===e})},handleDeleteAlbum:function(){var e=this;confirm("Are you sure you would like to delete this album?")&&b(this.$route.params.id).then(function(t){t.removed&&e.$router.push("/albums")})}},created:function(){var e=this;p(this.$route.params.id).then(function(t){e.images=t})}},Ze=Pe,ze=(n("7teA"),Object(x["a"])(Ze,Oe,$e,!1,null,"45449632",null)),Ue=ze.exports,Le=new E["a"]({routes:[{path:"/",component:T},{path:"/about",component:U},{path:"/auth",component:K},{path:"/albums",component:ne},{path:"/newalbum",component:Q},{path:"/albums/:id",component:Ue,children:[{path:"thumbnail",component:se},{path:"gallery",component:he},{path:"list",component:we},{path:"newimage",component:Ee},{path:"",redirect:"thumbnail"}]},{path:"*",redirect:"/"}]});r["a"].config.productionTip=!1,r["a"].use(E["a"]),new r["a"]({router:Le,render:function(e){return e(j)}}).$mount("#app")},Y8dt:function(e,t,n){"use strict";var r=n("eYeh"),i=n.n(r);i.a},Z9Ih:function(e,t,n){"use strict";var r=n("goAT"),i=n.n(r);i.a},ZL7j:function(e,t,n){"use strict";var r=n("EDI0"),i=n.n(r);i.a},achO:function(e,t,n){},"ca+M":function(e,t,n){},eYeh:function(e,t,n){},eoAL:function(e,t,n){"use strict";var r=n("gAC+"),i=n.n(r);i.a},"gAC+":function(e,t,n){},goAT:function(e,t,n){},jrsz:function(e,t,n){"use strict";var r=n("FfZj"),i=n.n(r);i.a},phuS:function(e,t,n){},"vr+h":function(e,t,n){},yKDN:function(e,t,n){"use strict";var r=n("HEg2"),i=n.n(r);i.a},yusF:function(e,t,n){"use strict";var r=n("JhdN"),i=n.n(r);i.a}});
//# sourceMappingURL=app.ddbf86a3.js.map